Ideas, ordered by most to least likely to work:

- No more redirection lists:
	* No more lists for append, input, output and heredoc
	* After initializing the heredoc files, subsititute the limiters in the main_arr with the path to the files
	* Use the main_arr for the redirections

- Only heredoc list:
	* No more lists for append, input and output
	* After initializing the heredoc files, add them to the heredoc list, as we're already doing
	* Redirect all of them from the main_arr, except heredoc
	* Try to use a buffer so the heredoc works properly and doesnt leak

- Keep the lists:
	* Try to figure out a way to ghet everything to work without leaks or weird behaviors


Notes:
	-Initialize heredoc before the replacer